<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">


    <ui:composition template="templates/invitado.xhtml">
        <ui:define name="contenido">
            <!-- ======= Contact Us Section ======= -->
            <section id="contact" class="contact">
                <div class="container">

                    <div class="section-title" data-aos="fade-down">
                        <span>Registrarse</span>
                        <h2>Registrarse</h2>
                    </div>                    
                    <div class="row justify-content-center">
                        <div class="col-lg-4 col-md-12" data-aos="fade-up" data-aos-delay="100">

                        </div>
                        <div class="col-lg-4 col-md-6 mt-4 mt-lg-0" data-aos="fade-up" data-aos-delay="200">
                            <h:form id="LoginForm">
                                <h:panelGrid columns="2">
                                    <p:outputLabel value="#{bundle.CreateUsuariosLabel_nombre}" for="nombre" />
                                    <p:inputText id="nombre" value="#{usuariosController.selected.nombre}" title="#{bundle.CreateUsuariosTitle_nombre}" required="true" requiredMessage="#{bundle.CreateUsuariosRequiredMessage_nombre}"/>
                                    <p:outputLabel value="#{bundle.CreateUsuariosLabel_apPat}" for="apPat" />
                                    <p:inputText id="apPat" value="#{usuariosController.selected.apPat}" title="#{bundle.CreateUsuariosTitle_apPat}" required="true" requiredMessage="#{bundle.CreateUsuariosRequiredMessage_apPat}"/>
                                    <p:outputLabel value="#{bundle.CreateUsuariosLabel_apMat}" for="apMat" />
                                    <p:inputText id="apMat" value="#{usuariosController.selected.apMat}" title="#{bundle.CreateUsuariosTitle_apMat}" required="true" requiredMessage="#{bundle.CreateUsuariosRequiredMessage_apMat}"/>                                    
                                    <p:outputLabel value="#{bundle.CreateUsuariosLabel_email}" for="email" />
                                    <h:panelGrid columns="1">
                                        <p:inputText id="email" 
                                                     value="#{usuariosController.selected.email}" 
                                                     title="#{bundle.CreateUsuariosTitle_email}" 
                                                     required="true" 
                                                     requiredMessage="#{bundle.CreateUsuariosRequiredMessage_email}">
                                            <p:ajax
                                                event="change"
                                                update="email,mensaje2"
                                                listener="#{usuariosController.comprobarEmail(event)}"                            
                                                />
                                        </p:inputText>
                                        <p:outputLabel style="color:red" id="mensaje2" value="#{usuariosController.mensaje2}"/>  
                                    </h:panelGrid>
                                    <p:outputLabel value="#{bundle.CreateUsuariosLabel_fechaNaci}" for="fechaNaci" />
                                    <p:calendar id="fechaNaci" pattern="MM/dd/yyyy" navigator="true" value="#{usuariosController.selected.fechaNaci}" title="#{bundle.EditUsuariosTitle_fechaNaci}"  showOn="button"/>
                                    <p:outputLabel value="#{bundle.CreateUsuariosLabel_username}" for="username" />
                                    <h:panelGrid columns="1">
                                        <p:inputText id="username" 
                                                     value="#{usuariosController.selected.username}" 
                                                     title="#{bundle.CreateUsuariosTitle_username}" 
                                                     required="true" 
                                                     requiredMessage="#{bundle.CreateUsuariosRequiredMessage_username}">
                                            <p:ajax
                                                event="change"
                                                update="username,mensaje"
                                                listener="#{usuariosController.comprobarUsername(event)}"                            
                                                />
                                        </p:inputText>
                                        <p:outputLabel style="color:red" id="mensaje" value="#{usuariosController.mensaje}"/>  
                                    </h:panelGrid>
                                    <p:outputLabel value="#{bundle.CreateUsuariosLabel_password}" for="password" />
                                    <p:inputText id="password" value="#{usuariosController.selected.password}" title="#{bundle.CreateUsuariosTitle_password}" required="true" requiredMessage="#{bundle.CreateUsuariosRequiredMessage_password}"/>
                                    <p:commandButton 
                                        actionListener="#{usuariosController.registroParcial()}"
                                        value="Registrarse"
                                        icon="ui-icon-key"
                                        update=":growl"
                                        /> 
                                </h:panelGrid>
                            </h:form>

                        </div>
                        <div class="col-lg-4 col-md-6 mt-4 mt-lg-0" data-aos="fade-up" data-aos-delay="300"/>

                    </div>
                </div>
            </section><!-- End Contact Us Section --><!-- End Pricing Section -->
            <!-- ======= Contact Us Section ======= -->


        </ui:define>
    </ui:composition>
</html>